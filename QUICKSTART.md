# 快速开始指南

## 打开项目
直接在浏览器中打开 `index.html` 文件即可使用。

## 新功能演示

### 1. 清空场景 🗑️
**位置**：顶部工具栏，重置按钮右侧
**功能**：
- 删除场景中的所有对象（电场、磁场、粒子）
- 弹出确认对话框防止误操作
- 点击确定后立即清空

**使用场景**：
- 想要从零开始创建新场景
- 当前场景对象太多需要重新规划

---

### 2. 导出场景 📤
**位置**：顶部工具栏，加载按钮右侧
**功能**：
- 将当前场景的所有对象和设置导出为JSON文件
- 自动下载到本地
- 文件名格式：`electric-field-scene-{时间戳}.json`

**步骤**：
1. 创建你的场景（添加电场、磁场、粒子等）
2. 调整好所有对象的属性
3. 点击"导出"按钮（📤）
4. 文件自动下载到浏览器默认下载位置

**导出的内容包括**：
- 所有电场的位置、大小、场强、方向
- 所有磁场的位置、大小、磁感应强度
- 所有粒子的位置、速度、质量、电荷量
- 场景设置（网格、轨迹显示等）

---

### 3. 导入场景 📥
**位置**：顶部工具栏，导出按钮右侧
**功能**：
- 从JSON文件加载场景配置
- 自动验证文件格式
- 显示加载的对象数量

**步骤**：
1. 点击"导入"按钮（📥）
2. 在文件选择器中选择`.json`格式的场景文件
3. 等待验证和加载
4. 成功后显示通知（例如："场景已导入 (5个对象)"）

**测试导入功能**：
项目包含一个示例场景文件 `example-scene.json`，可用于测试：
1. 点击"导入"按钮
2. 选择 `example-scene.json`
3. 场景将加载2个电场、1个磁场、2个粒子

**错误处理**：
- 文件格式错误：显示"无效的场景文件格式"
- 缺少必需字段：显示具体缺失的字段名
- JSON语法错误：显示"导入失败"

---

## 功能对比

| 功能 | 重置 🔄 | 清空 🗑️ | 保存 💾 | 加载 📂 | 导出 📤 | 导入 📥 |
|------|---------|---------|---------|---------|---------|---------|
| **操作** | 清除对象 | 清除对象 | 保存到浏览器 | 从浏览器加载 | 下载文件 | 读取文件 |
| **确认提示** | ❌ | ✅ | ✅（输入名称） | ✅（输入名称） | ❌ | ❌ |
| **数据位置** | - | - | localStorage | localStorage | 本地文件 | 本地文件 |
| **跨设备** | - | - | ❌ | ❌ | ✅ | ✅ |
| **分享** | - | - | ❌ | ❌ | ✅ | ✅ |

---

## 实际应用场景

### 场景1：教学演示
**老师准备课件**：
1. 创建多个演示场景（匀加速、圆周运动、偏转等）
2. 分别导出为JSON文件
3. 课堂上按需导入不同场景进行讲解
4. 学生也可以拿到JSON文件自行练习

### 场景2：作业分享
**学生完成作业**：
1. 根据题目要求设置电场和粒子
2. 观察运动轨迹，记录数据
3. 导出场景文件作为作业提交
4. 老师导入学生的文件进行评分

### 场景3：协作研究
**多人协作**：
1. A创建基础场景并导出
2. B导入后添加新元素，再导出
3. C导入B的版本继续修改
4. 最终版本可被所有人导入使用

### 场景4：快速备份
**保护工作成果**：
1. 完成复杂场景后立即导出
2. 保存JSON文件作为备份
3. 即使浏览器数据清除，也能从文件恢复
4. 可以在不同浏览器/电脑上打开

---

## 注意事项

### 清空场景 ⚠️
- 操作**不可撤销**，清空前务必确认
- 建议先导出备份再清空
- 仅清空对象，不影响程序设置

### 导出场景 💡
- 文件自动命名，可在下载后重命名
- JSON文件可用文本编辑器查看/编辑
- 手动编辑JSON需谨慎，格式错误会导致导入失败

### 导入场景 💡
- 导入前会自动清空当前场景
- 建议导入前先导出当前场景作为备份
- 只接受`.json`格式文件
- 文件必须包含必需字段（version, electricFields, magneticFields, particles）

---

## 常见问题

**Q1: 导出的文件在哪里？**
A: 在浏览器的默认下载文件夹中，通常是 `C:\Users\{用户名}\Downloads\`

**Q2: 可以编辑JSON文件吗？**
A: 可以，但需要保持正确的JSON格式。建议使用专业JSON编辑器（如VSCode）。

**Q3: localStorage和导入导出有什么区别？**
A: 
- localStorage：数据保存在浏览器中，只能在同一浏览器访问
- 导入导出：数据保存为文件，可以分享、备份、跨设备使用

**Q4: 导入会覆盖当前场景吗？**
A: 是的，导入会先清空当前场景，然后加载新数据。

**Q5: 如何创建自己的场景模板？**
A:
1. 创建并调试好场景
2. 导出为JSON文件
3. 重命名为有意义的文件名（如"双电场偏转.json"）
4. 需要时导入该文件即可快速恢复场景

---

## 技巧提示

### 技巧1：快速测试
使用 `example-scene.json` 快速测试导入功能，无需手动创建场景。

### 技巧2：版本管理
给导出的文件加上版本号，如：
- `场景v1-初版.json`
- `场景v2-添加磁场.json`
- `场景v3-最终版.json`

### 技巧3：批量导入
准备多个场景文件，课堂演示时快速切换：
- `demo1-匀加速.json`
- `demo2-圆周运动.json`
- `demo3-复合场.json`

### 技巧4：场景库
建立个人场景库文件夹，分类保存：
```
我的场景/
  ├── 基础/
  │   ├── 匀加速运动.json
  │   └── 匀速圆周运动.json
  ├── 进阶/
  │   ├── 电磁场叠加.json
  │   └── 多粒子系统.json
  └── 实验/
      └── 测试场景.json
```

---

**开始体验新功能吧！** 🚀

有任何问题欢迎反馈！
